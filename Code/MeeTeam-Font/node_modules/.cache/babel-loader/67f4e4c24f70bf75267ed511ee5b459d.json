{"ast":null,"code":"import global_msg from '../utils/global.js';\nimport { getlistInfor } from '@/api/Inforlist.js';\nexport default {\n  name: 'MyProject',\n\n  data() {\n    return {\n      username: global_msg.nowuserid,\n      tableData: []\n    };\n  },\n\n  mounted() {\n    this.getlist(); //页面一进入就加载表格\n  },\n\n  methods: {\n    getlist() {\n      var vm = this; //全局变量\n\n      getlistInfor().then(function (res) {\n        global_msg.requirenum = res.data.length; //改变全局requirenum\n        // console.log(res);\n        // console.log(res.data.length);\n        // console.log(res.data[0]);\n        // console.log(res.data[0].details);\n\n        for (let item of res.data) {\n          let form = {\n            //设置添加数据的格式\n            projectname: '',\n            originator_id: '',\n            team_type: '',\n            region: '',\n            details: '',\n            date: ''\n          }; // console.log(item);\n\n          form.projectname = item.requirement_name;\n          form.originator_id = item.originator_id;\n          form.team_type = item.team_type;\n          form.details = item.details;\n          form.date = item.release_time;\n          form.date = form.date.replace(\"\\\"\", \"\").replace(\"\\\"\", \"\"); //去掉时间格式的引号\n\n          form.region = item.region;\n          vm.tableData.push(form); // console.log(form);\n          // console.log(vm.tableData);\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwBA;AACA;AACA;EACAA,iBADA;;EAEAC;IACA;MACAC,8BADA;MAEAC;IAFA;EAIA,CAPA;;EAQAC;IACA,eADA,CACA;EACA,CAVA;;EAWAC;IACAC;MACA,cADA,CACA;;MACAC;QACAC,wCADA,CACA;QACA;QACA;QACA;QACA;;QACA;UACA;YAAA;YACAC,eADA;YAEAC,iBAFA;YAGAC,aAHA;YAIAC,UAJA;YAKAC,WALA;YAMAC;UANA,EADA,CASA;;UACAC;UACAA;UACAA;UACAA;UACAA;UACAA,0DAfA,CAeA;;UACAA;UACAC,wBAjBA,CAkBA;UACA;QACA;MACA,CA3BA;IA4BA;;EA/BA;AAXA","names":["name","data","username","tableData","mounted","methods","getlist","getlistInfor","global_msg","projectname","originator_id","team_type","region","details","date","form","vm"],"sourceRoot":"src/components","sources":["MyProject.vue"],"sourcesContent":["<template>\r\n  <div id=\"deleteteam-container\">\r\n     <el-container>\r\n   <el-main>\r\n          <el-table :data=\"tableData\" :default-sort=\"{ prop: 'date', order: 'descending' }\">\r\n            <el-table-column prop=\"projectname\" label=\"项目名称\" width=\"140\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"originator_id\" label=\"组队发起人\" width=\"140\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"team_type\" label=\"项目类型\" width=\"140\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"region\" label=\"所在校区\" width=\"200\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"details\" label=\"项目简介\" width=\"400\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"date\" label=\"发布时间\" sortable>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-main>\r\n      </el-container>\r\n     </div>\r\n</template>\r\n\r\n<script>\r\nimport global_msg from '../utils/global.js'\r\nimport { getlistInfor } from '@/api/Inforlist.js'\r\nexport default {\r\n  name: 'MyProject',\r\n   data() {\r\n    return {\r\n      username: global_msg.nowuserid,\r\n      tableData: [],\r\n    };\r\n  },\r\n   mounted() {\r\n    this.getlist() //页面一进入就加载表格\r\n      },\r\n  methods: {\r\n      getlist() {\r\n      var vm = this;//全局变量\r\n      getlistInfor().then(function (res) {\r\n        global_msg.requirenum = res.data.length;//改变全局requirenum\r\n        // console.log(res);\r\n        // console.log(res.data.length);\r\n        // console.log(res.data[0]);\r\n        // console.log(res.data[0].details);\r\n        for (let item of res.data) {\r\n          let form = {//设置添加数据的格式\r\n            projectname: '',\r\n            originator_id: '',\r\n            team_type: '',\r\n            region: '',\r\n            details: '',\r\n            date: '',\r\n          }\r\n          // console.log(item);\r\n          form.projectname = item.requirement_name;\r\n          form.originator_id = item.originator_id;\r\n          form.team_type = item.team_type;\r\n          form.details = item.details;\r\n          form.date = item.release_time;\r\n          form.date = form.date.replace(\"\\\"\", \"\").replace(\"\\\"\", \"\");//去掉时间格式的引号\r\n          form.region = item.region;\r\n          vm.tableData.push(form);\r\n          // console.log(form);\r\n          // console.log(vm.tableData);\r\n        }\r\n      })\r\n    }\r\n}\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}