{"ast":null,"code":"import global_msg from '../utils/global.js';\nimport { getlistInfor } from '@/api/Inforlist.js';\nexport default {\n  name: 'InforList',\n\n  data() {\n    return {\n      username: global_msg.nowuserid,\n      tableData: []\n    };\n  },\n\n  mounted() {\n    this.getlist(); //页面一进入就加载表格\n  },\n\n  methods: {\n    additem: function () {\n      this.$router.push({\n        path: \"/users/CreatList\"\n      }); //接下来进入到CreatList\n    },\n    myitem: function () {\n      this.$router.push({\n        path: \"/users/MyProject\"\n      }); //接下来进入到MyProject\n    },\n\n    getlist() {\n      var vm = this; //全局变量\n\n      getlistInfor().then(function (res) {\n        global_msg.requirenum = res.data.length; //改变全局requirenum\n        // console.log(res);\n        // console.log(res.data.length);\n        // console.log(res.data[0]);\n        // console.log(res.data[0].details);\n\n        for (let item of res.data) {\n          let form = {\n            //设置添加数据的格式\n            projectname: '',\n            originator_id: '',\n            team_type: '',\n            region: '',\n            details: '',\n            date: ''\n          }; // let params = {\n          //   user_id: item.originator_id\n          // }\n          // alert(params.user_id);\n          // vm.getusername(params).then(function (res) {\n          //   form.originator_id = res.data;\n          // })\n          // console.log(item);\n\n          form.projectname = item.requirement_name;\n          form.originator_id = item.originator_id;\n          form.team_type = item.team_type;\n          form.details = item.details;\n          form.date = item.release_time;\n          form.date = form.date.replace(\"\\\"\", \"\").replace(\"\\\"\", \"\"); //去掉时间格式的引号\n\n          form.region = item.region;\n          vm.tableData.push(form); // console.log(form);\n          // console.log(vm.tableData);\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+FA;AACA;AACA;EACAA,iBADA;;EAEAC;IACA;MACAC,8BADA;MAEAC;IAFA;EAIA,CAPA;;EAQAC;IACA,eADA,CACA;EACA,CAVA;;EAWAC;IACAC;MACA;QAAAC;MAAA,GADA,CACA;IACA,CAHA;IAIAC;MACA;QAAAD;MAAA,GADA,CACA;IACA,CANA;;IAOAE;MACA,cADA,CACA;;MACAC;QACAC,wCADA,CACA;QACA;QACA;QACA;QACA;;QACA;UACA;YAAA;YACAC,eADA;YAEAC,iBAFA;YAGAC,aAHA;YAIAC,UAJA;YAKAC,WALA;YAMAC;UANA,EADA,CASA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UACAC;UACAA;UACAA;UACAA;UACAA;UACAA,0DAtBA,CAsBA;;UACAA;UACAC,wBAxBA,CAyBA;UACA;QACA;MACA,CAlCA;IAmCA;;EA5CA;AAXA","names":["name","data","username","tableData","mounted","methods","additem","path","myitem","getlist","getlistInfor","global_msg","projectname","originator_id","team_type","region","details","date","form","vm"],"sourceRoot":"src/view","sources":["UserInformation.vue"],"sourcesContent":["<template>\r\n  <div id=\"creatteam-container\">\r\n    <el-container style=\"height: 100%; border: 1px solid #eee\">\r\n      <el-aside width=\"200px\" style=\"background-color: rgb(252, 241, 246)\">\r\n        <el-menu :default-openeds=\"['1', '3']\">\r\n          <el-submenu index=\"1\">\r\n            <template slot=\"title\"><i class=\"el-icon-message\"></i>组队类型</template>\r\n            <el-submenu index=\"1-1\">\r\n              <template slot=\"title\">竞赛组队</template>\r\n              <el-menu-item index=\"1-1-1\">创新创业</el-menu-item>\r\n              <el-menu-item index=\"1-1-2\">数学建模</el-menu-item>\r\n              <el-menu-item index=\"1-1-3\">学科竞赛</el-menu-item>\r\n              <el-menu-item index=\"1-1-4\">其他竞赛</el-menu-item>\r\n            </el-submenu>\r\n            <el-submenu index=\"1-2\">\r\n              <template slot=\"title\">项目课程组队</template>\r\n              <el-menu-item index=\"1-2-1\">新生院</el-menu-item>\r\n              <el-menu-item index=\"1-2-2\">建筑与城市规划学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-3\">土木工程学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-4\">机械与能源工程学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-5\">经济与管理学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-6\">环境科学与工程学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-7\">材料科学与工程学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-8\">电子与信息工程学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-9\">人文学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-10\">外国语学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-11\">汽车学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-12\">软件学院</el-menu-item>\r\n              <el-menu-item index=\"1-2-13\">其他学院</el-menu-item>\r\n            </el-submenu>\r\n          </el-submenu>\r\n          <el-submenu index=\"2\">\r\n            <template slot=\"title\"><i class=\"el-icon-menu\"></i>所在校区</template>\r\n            <el-menu-item index=\"2-1\">四平校区</el-menu-item>\r\n            <el-menu-item index=\"2-2\">嘉定校区</el-menu-item>\r\n            <el-menu-item index=\"2-3\">沪西校区</el-menu-item>\r\n            <el-menu-item index=\"2-4\">沪北校区</el-menu-item>\r\n          </el-submenu>\r\n          <el-submenu index=\"3\">\r\n            <template slot=\"title\"><i class=\"el-icon-setting\"></i>导航三</template>\r\n            <el-menu-item-group>\r\n              <template slot=\"title\">分组一</template>\r\n              <el-menu-item index=\"3-1\">选项1</el-menu-item>\r\n              <el-menu-item index=\"3-2\">选项2</el-menu-item>\r\n            </el-menu-item-group>\r\n            <el-menu-item-group title=\"分组2\">\r\n              <el-menu-item index=\"3-3\">选项3</el-menu-item>\r\n            </el-menu-item-group>\r\n            <el-submenu index=\"3-4\">\r\n              <template slot=\"title\">选项4</template>\r\n              <el-menu-item index=\"3-4-1\">选项4-1</el-menu-item>\r\n            </el-submenu>\r\n          </el-submenu>\r\n        </el-menu>\r\n      </el-aside>\r\n      <el-container>\r\n        <el-header style=\"text-align: right; font-size: 15px; top:50%;\">\r\n          <el-button type=\"primary\" plain @click=\"additem\">添加项目</el-button>\r\n          <el-button type=\"warning\" plain @click=\"myitem\">我的项目</el-button>\r\n          <el-dropdown>\r\n            <i class=\"el-icon-setting\" style=\"margin: 30px\"></i>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item>用户信息</el-dropdown-item>\r\n              <el-dropdown-item>系统设置</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n          <span>{{ username }}</span>\r\n        </el-header>\r\n        <el-main>\r\n          <el-table :data=\"tableData\" :default-sort=\"{ prop: 'date', order: 'descending' }\">\r\n            <el-table-column prop=\"projectname\" label=\"项目名称\" width=\"140\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"originator_id\" label=\"组队发起人\" width=\"140\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"team_type\" label=\"项目类型\" width=\"140\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"region\" label=\"所在校区\" width=\"200\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"details\" label=\"项目简介\" width=\"200\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"date\" label=\"发布时间\" sortable>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button size=\"mini\" @click=\"handleLook(scope.$index, scope.row)\">查看详情</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport global_msg from '../utils/global.js'\r\nimport { getlistInfor } from '@/api/Inforlist.js'\r\nexport default {\r\n  name: 'InforList',\r\n  data() {\r\n    return {\r\n      username: global_msg.nowuserid,\r\n      tableData: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getlist() //页面一进入就加载表格\r\n  },\r\n  methods: {\r\n    additem: function () {\r\n      this.$router.push({ path: \"/users/CreatList\" }); //接下来进入到CreatList\r\n    },\r\n    myitem: function () {\r\n      this.$router.push({ path: \"/users/MyProject\" }); //接下来进入到MyProject\r\n    },\r\n    getlist() {\r\n      var vm = this;//全局变量\r\n      getlistInfor().then(function (res) {\r\n        global_msg.requirenum = res.data.length;//改变全局requirenum\r\n        // console.log(res);\r\n        // console.log(res.data.length);\r\n        // console.log(res.data[0]);\r\n        // console.log(res.data[0].details);\r\n        for (let item of res.data) {\r\n          let form = {//设置添加数据的格式\r\n            projectname: '',\r\n            originator_id: '',\r\n            team_type: '',\r\n            region: '',\r\n            details: '',\r\n            date: '',\r\n          }\r\n          // let params = {\r\n          //   user_id: item.originator_id\r\n          // }\r\n          // alert(params.user_id);\r\n          // vm.getusername(params).then(function (res) {\r\n          //   form.originator_id = res.data;\r\n          // })\r\n          // console.log(item);\r\n          form.projectname = item.requirement_name;\r\n          form.originator_id = item.originator_id;\r\n          form.team_type = item.team_type;\r\n          form.details = item.details;\r\n          form.date = item.release_time;\r\n          form.date = form.date.replace(\"\\\"\", \"\").replace(\"\\\"\", \"\");//去掉时间格式的引号\r\n          form.region = item.region;\r\n          vm.tableData.push(form);\r\n          // console.log(form);\r\n          // console.log(vm.tableData);\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#creatteam-container {\r\n  position: relative;\r\n  margin: 10px 0;\r\n  margin-left: 0px;\r\n  height: 100%;\r\n}\r\n\r\n.el-header {\r\n  background-color: #B3C0D1;\r\n  color: #333;\r\n  line-height: 60px;\r\n}\r\n\r\n.el-aside {\r\n  color: #333;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}