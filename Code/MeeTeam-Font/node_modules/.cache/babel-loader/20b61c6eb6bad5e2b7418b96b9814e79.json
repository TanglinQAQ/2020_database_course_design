{"ast":null,"code":"import { get_all } from '@/api/notice.js';\nexport default {\n  data() {\n    this.tableData = [];\n    get_all().then(res => {\n      Object.keys(res.data).forEach(v => {\n        let o = {};\n        o.notice_id = res.data[v].notice_id;\n        o.title = res.data[v].notice_title;\n        o.admin_id = res.data[v].admin_id;\n        o.operate_time = res.data[v].operate_time;\n\n        if (res.data[v].operate_type == 0) {\n          o.status = \"暂存\";\n        } else {\n          o.status = \"发布\";\n        }\n\n        console.log(o);\n        this.tableData.push(o);\n      });\n    });\n    return {};\n  },\n\n  methods: {\n    goback() {\n      this.$router.push({\n        path: \"/Admin/AdminPage\"\n      });\n    },\n\n    goto_ShowNotice(row) {\n      this.$router.push({\n        path: \"/Admin/ShowNotice\",\n        query: {\n          n_id: row.notice_id\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqDA;AACA;EACAA;IACA;IACAC;MACAC;QACA;QACAC;QACAA;QACAA;QACAA;;QACA;UACAA;QACA,CAFA,MAGA;UACAA;QACA;;QACAC;QACA;MACA,CAdA;IAeA,CAhBA;IAiBA;EACA,CArBA;;EAsBAC;IACAC;MACA;QAAAC;MAAA;IACA,CAHA;;IAIAC;MACA;QAAAD;QAAAE;UAAAC;QAAA;MAAA;IACA;;EANA;AAtBA","names":["data","get_all","Object","o","console","methods","goback","path","goto_ShowNotice","query","n_id"],"sourceRoot":"src/view","sources":["NoticeList.vue"],"sourcesContent":["<template>\r\n  <div id=\"admin\">\r\n    <div id=\"header\">\r\n      <el-header>\r\n        <span class=\"container\" @click=\"goback\">\r\n          <div class=\"button-wrapper\">\r\n            <svg width=\"120\" height=\"42\">\r\n              <rect class=\"rectangle\" width=\"120\" height=\"42\" />\r\n            </svg>\r\n            <div class=\"btn\">\r\n              返回\r\n            </div>\r\n          </div>\r\n        </span>公告管理\r\n      </el-header>\r\n    </div>\r\n    <div id=\"body\">\r\n      <el-container>\r\n        <el-aside width=\"200px\">\r\n          <el-menu default-active=\"/Admin/NoticeList\" router>\r\n            <el-menu-item index=\"/Admin/NoticeList\">\r\n              <i class=\"el-icon-s-order\"></i>\r\n              <span>通知总览</span>\r\n            </el-menu-item>\r\n            <!--此处为暂时的路径，等编辑页面做好时候再改-->\r\n            <el-menu-item index=\"/Admin/CreateNotice\">\r\n              <i class=\"el-icon-plus\"></i>\r\n              <span>新建通知</span>\r\n            </el-menu-item>\r\n          </el-menu>\r\n        </el-aside>\r\n        <el-container>\r\n          <el-main>\r\n            <el-table :data=\"tableData\" border @row-click=\"goto_ShowNotice\">\r\n              <el-table-column v-if=\"false\" prop=\"notice_id\" label=\"公告id\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"title\" label=\"公告标题\" align=\"left\" style=\"margin: 50px;\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"admin_id\" label=\"管理员\" align=\"center\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"status\" label=\"状态\" align=\"center\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"operate_time\" label=\"上次修改时间\" align=\"center\">\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-main>\r\n        </el-container>\r\n      </el-container>\r\n    </div>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\nimport { get_all } from '@/api/notice.js'\r\nexport default {\r\n  data() {\r\n    this.tableData = [];\r\n    get_all().then(res => {\r\n      Object.keys(res.data).forEach(v => {\r\n        let o = {};\r\n        o.notice_id = res.data[v].notice_id;\r\n        o.title = res.data[v].notice_title;\r\n        o.admin_id = res.data[v].admin_id;\r\n        o.operate_time = res.data[v].operate_time;\r\n        if (res.data[v].operate_type == 0) {\r\n          o.status = \"暂存\";\r\n        }\r\n        else {\r\n          o.status = \"发布\";\r\n        }\r\n        console.log(o);\r\n        this.tableData.push(o);\r\n      });\r\n    });\r\n    return {};\r\n  },\r\n  methods: {\r\n    goback() {\r\n      this.$router.push({ path: \"/Admin/AdminPage\" });\r\n    },\r\n    goto_ShowNotice(row) {\r\n      this.$router.push({ path: \"/Admin/ShowNotice\", query: { n_id: row.notice_id } });\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n#admin {\r\n  width: 100%;\r\n  min-height: 100vh;\r\n  background-color: #ecf0f5;\r\n  background-size: 100% 100%;\r\n}\r\n\r\n.el-header {\r\n  font-weight: 900;\r\n  font-size: 24px;\r\n  background-color: #B3C0D1;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 60px;\r\n}\r\n\r\n.el-aside {\r\n  background-color: #D3DCE6;\r\n  color: #333;\r\n  text-align: center;\r\n}\r\n\r\n.el-container {\r\n  background-color: #ecf0f5;\r\n  color: #333;\r\n  text-align: left;\r\n  height: 100%;\r\n}\r\n\r\n.container {\r\n  display: inline;\r\n  float: left;\r\n  display: inline-block;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 40px;\r\n  height: 48px;\r\n}\r\n\r\n.button-wrapper {\r\n  display: inline-block;\r\n  position: relative;\r\n  width: 60px;\r\n  height: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.rectangle {\r\n  stroke-width: 8px;\r\n  stroke: #ecf0f5;\r\n  fill: transparent;\r\n  /* Core part of the animation */\r\n  stroke-dasharray: 200 500;\r\n  stroke-dashoffset: -372;\r\n  /* 偏移负数，虚线整体右移动了372个单位 */\r\n}\r\n\r\n.btn {\r\n  color: white;\r\n  font-size: 24px;\r\n  letter-spacing: 6px;\r\n  position: relative;\r\n  top: -72px;\r\n  left: 30px;\r\n}\r\n\r\n@keyframes extend {\r\n  to {\r\n    stroke-dasharray: 600;\r\n    /* 属性用于创建虚线： */\r\n    stroke-dashoffset: 0;\r\n    stroke-width: 4;\r\n    /* 属性定义了一条线，文本或元素轮廓厚度： */\r\n  }\r\n}\r\n\r\n.button-wrapper:hover .rectangle {\r\n  animation: 0.5s extend linear forwards;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}